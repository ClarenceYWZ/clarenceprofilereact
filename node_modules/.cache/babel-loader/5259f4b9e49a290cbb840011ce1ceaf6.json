{"ast":null,"code":"import t, { useRef as e, useEffect as n, useState as r, useLayoutEffect as i, useCallback as o } from \"react\";\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\n\nvar s = function () {\n  return (s = Object.assign || function (t) {\n    for (var e, n = 1, r = arguments.length; n < r; n++) for (var i in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);\n\n    return t;\n  }).apply(this, arguments);\n};\n\nfunction a(t, e) {\n  void 0 === e && (e = {});\n  var n = e.insertAt;\n\n  if (t && \"undefined\" != typeof document) {\n    var r = document.head || document.getElementsByTagName(\"head\")[0],\n        i = document.createElement(\"style\");\n    i.type = \"text/css\", \"top\" === n && r.firstChild ? r.insertBefore(i, r.firstChild) : r.appendChild(i), i.styleSheet ? i.styleSheet.cssText = t : i.appendChild(document.createTextNode(t));\n  }\n}\n\nvar l = \"styles-module_carousel-base__3keqD\",\n    c = \"styles-module_item-provider__YgMwz\",\n    u = \"styles-module_item-container__a8zaY\",\n    f = \"styles-module_item-tracker__3bypy\",\n    d = \"styles-module_carousel-arrow__26sRw\";\na(\".styles-module_carousel-base__3keqD {\\n\\twidth: 100%;\\n\\tbox-sizing: border-box;\\n\\tdisplay: flex;\\n\\toutline: none;\\n}\\n\\n.styles-module_item-provider__YgMwz {\\n\\toverflow: hidden;\\n\\twidth: 100%;\\n\\tcursor: pointer;\\n}\\n\\n.styles-module_item-container__a8zaY img {\\n\\t-webkit-user-select: none;\\n\\t        user-select: none;\\n\\t-webkit-user-drag: none;\\n}\\n\\n.styles-module_item-tracker__3bypy {\\n\\theight: 100%;\\n\\tdisplay: flex;\\n}\\n\\n.styles-module_carousel-arrow__26sRw {\\n\\tz-index: 1;\\n}\\n\");\n\nvar h,\n    m = function (e) {\n  return t.createElement(\"button\", {\n    className: d,\n    onClick: e.onClick,\n    \"data-direction\": e.direction\n  });\n};\n\n!function (t) {\n  t[t.Right = -1] = \"Right\", t[t.Left = 1] = \"Left\";\n}(h || (h = {}));\n\nvar v = function () {\n  function t(t, e) {\n    this.arr = t, this.currentIndex = e;\n  }\n\n  return t.prototype.next = function () {\n    var t = this.currentIndex,\n        e = this.arr;\n    return this.currentIndex = t < e.length - 1 ? t + 1 : 0, this.current();\n  }, t.prototype.prev = function () {\n    var t = this.currentIndex,\n        e = this.arr;\n    return this.currentIndex = t > 0 && t < e.length ? t - 1 : e.length - 1, this.current();\n  }, t.prototype.current = function () {\n    return this.arr[this.currentIndex];\n  }, t;\n}(),\n    g = function (t, e, n) {\n  return n * t * e;\n},\n    p = function (t, e, n, r) {\n  var i = t > e;\n  return n ? {\n    left: i,\n    right: i\n  } : {\n    left: i && 0 !== r,\n    right: i && r + e < t\n  };\n},\n    w = function (t, e, n) {\n  if (!n) return t;\n\n  for (var r = Array.from(t), i = new v(t, 0), o = 0; o < e; o++) r.unshift(i.prev());\n\n  return r;\n};\n\nfunction y(t) {\n  return t.nativeEvent instanceof MouseEvent ? t.nativeEvent.pageX : t.nativeEvent instanceof TouchEvent ? t.nativeEvent.changedTouches[0].pageX : 0;\n}\n\nfunction _(t, e, n, r, i) {\n  if (n && n.length < e.length) return w(e, r, i);\n  var o = t.map(function (t) {\n    return e.find(function (e) {\n      return t.key === e.key;\n    });\n  });\n  return o.some(function (t) {\n    return void 0 === t;\n  }) ? w(e, r, i) : o;\n}\n\nvar L = function (e) {\n  var n = r(200),\n      a = n[0],\n      l = n[1],\n      d = o(function (t) {\n    if (null !== t) {\n      var n = t.getBoundingClientRect().width / e.show;\n      l(n), e.widthCallBack(n);\n    }\n  }, [a]);\n  e.responsive && function (t) {\n    var e = r(window.innerWidth),\n        n = e[0],\n        o = e[1];\n    i(function () {\n      var e = function () {\n        var e = n - window.innerWidth;\n        o(window.innerWidth), t(e);\n      };\n\n      return window.addEventListener(\"resize\", e), function () {\n        return window.removeEventListener(\"resize\", e);\n      };\n    }, []);\n  }(function (t) {\n    l(a - t);\n  });\n\n  var m = r({\n    initial: e.transform,\n    start: 0,\n    isDown: !1,\n    drag: 0,\n    finished: !0,\n    pointers: !0\n  }),\n      v = m[0],\n      g = m[1],\n      p = function (t) {\n    t.persist(), g(s(s({}, v), {\n      isDown: !0,\n      start: y(t),\n      initial: e.transform,\n      finished: !1\n    }));\n  },\n      w = function (t) {\n    if (t.persist(), !v.finished) {\n      if (Math.abs(v.drag) < a * e.swipeOn) return e.dragCallback(e.transform), g({\n        initial: e.transform,\n        start: 0,\n        isDown: !1,\n        drag: 0,\n        finished: !0,\n        pointers: !0\n      });\n      e.slideCallback(v.drag > 0 ? h.Right : h.Left), g(s(s({}, v), {\n        drag: 0,\n        isDown: !1,\n        finished: !0,\n        pointers: !0\n      }));\n    }\n  },\n      _ = function (t) {\n    if (t.persist(), v.isDown) {\n      var e = y(t);\n      g(s(s({}, v), {\n        drag: v.start - e,\n        pointers: !1\n      }));\n    }\n  },\n      L = e.swiping ? {\n    onTouchCancel: w,\n    onTouchEnd: w,\n    onTouchMove: _,\n    onTouchStart: p,\n    onMouseDown: p,\n    onMouseLeave: w,\n    onMouseUp: w,\n    onMouseMove: _\n  } : {};\n\n  return t.createElement(\"div\", {\n    ref: d,\n    className: c\n  }, t.createElement(\"div\", s({\n    \"data-testid\": \"trackList\"\n  }, L, {\n    className: f,\n    style: {\n      transform: \"translateX(\" + (e.transform - v.drag) + \"px)\",\n      transition: \"transform \" + e.transition + \"s ease 0s\",\n      width: a * e.items.length\n    }\n  }), e.items.map(function (e, n) {\n    return t.createElement(\"div\", {\n      key: n,\n      style: {\n        width: a,\n        pointerEvents: v.pointers ? \"all\" : \"none\"\n      },\n      className: u\n    }, e);\n  })));\n},\n    k = {\n  children: [],\n  show: 1,\n  slide: 1,\n  transition: .5,\n  swiping: !1,\n  swipeOn: 1,\n  responsive: !1,\n  infinite: !0,\n  className: \"\",\n  useArrowKeys: !1,\n  a11y: {},\n  dynamic: !1,\n  paginationCallback: null,\n  pageCount: 0,\n  rightArrow: null,\n  leftArrow: null\n},\n    b = function (i) {\n  var o,\n      a,\n      c,\n      u,\n      f = s(s({}, k), i),\n      d = r(w(f.children, f.slide, f.infinite)),\n      y = d[0],\n      b = d[1],\n      E = r(0),\n      x = E[0],\n      C = E[1],\n      R = r({\n    transform: 0,\n    transition: 0,\n    isSliding: !1\n  }),\n      T = R[0],\n      M = R[1],\n      I = r(0),\n      N = I[0],\n      D = I[1],\n      A = r(p(f.children.length, f.show, f.infinite, N)),\n      S = A[0],\n      W = A[1],\n      z = (c = i.children, u = e(), n(function () {\n    u.current = c;\n  }), u.current),\n      X = r(0),\n      B = X[0],\n      q = X[1],\n      O = e(w(f.children, f.slide, f.infinite)),\n      K = e(!1);\n  f.dynamic && n(function () {\n    var t = _(O.current, f.children, z, f.slide, f.infinite);\n\n    b(t), O.current = t, B < f.pageCount && z && (null == z ? void 0 : z.length) < f.children.length && (Y(h.Right), q(B + 1));\n  }, [f.children]);\n\n  var Y = function (t) {\n    if (!(T.isSliding || t === h.Right && !S.right || t === h.Left && !S.left)) {\n      if (f.paginationCallback && t === h.Right && B < f.pageCount - 1 && !K.current) return K.current = !0, void f.paginationCallback(t);\n\n      var e = f.children,\n          n = function (t, e, n, r) {\n        var i = t - r * e;\n        return i < 0 ? n + i : n <= i ? i - n : i;\n      }(N, f.slide, e.length, t),\n          r = f.infinite ? function (t, e, n, r, i, o) {\n        var s = new v(t, n),\n            a = Array.from(e);\n\n        switch (+o) {\n          case h.Left:\n            for (var l = i; l >= 0; l--) (i - l < 0 || !a[l - i]) && a.unshift(s.current()), s.prev();\n\n            break;\n\n          case h.Right:\n            for (l = 0; l < r + i; l++) a[2 * i + l] || a.push(s.current()), s.next();\n\n        }\n\n        return a;\n      }(e, y, n, f.show, f.slide, t) : y;\n\n      f.infinite && t === h.Right && (b(r), O.current = r), M({\n        transform: T.transform + g(x, f.slide, t),\n        transition: f.transition,\n        isSliding: !0\n      }), D(n), W(p(e.length, f.show, f.infinite, n)), setTimeout(function () {\n        if (f.infinite) {\n          var e = function (t, e, n) {\n            return n === h.Left ? t.slice(0, -1 * e) : t.slice(e);\n          }(t === h.Right ? O.current : r, f.slide, t);\n\n          b(e), O.current = e;\n        }\n\n        M({\n          transform: f.infinite ? g(x, f.slide, h.Right) : T.transform + g(x, f.slide, t),\n          transition: 0,\n          isSliding: !1\n        });\n      }, 1e3 * f.transition), K.current = !1;\n    }\n  };\n\n  return t.createElement(\"div\", s({}, f.a11y, {\n    \"data-testid\": \"carousel\",\n    tabIndex: 0\n  }, f.useArrowKeys ? {\n    onKeyDown: function (t) {\n      37 === t.keyCode ? Y(h.Left) : 39 === t.keyCode && Y(h.Right);\n    }\n  } : {}, {\n    className: l + \" \" + f.className\n  }), S.left && t.createElement(\"div\", {\n    onClick: function () {\n      return Y(h.Left);\n    }\n  }, null !== (o = f.leftArrow) && void 0 !== o ? o : t.createElement(m, {\n    direction: \"left\"\n  })), t.createElement(L, s({}, f, {\n    transition: T.transition,\n    items: O.current,\n    transform: T.transform,\n    slideCallback: function (t) {\n      Y(t);\n    },\n    dragCallback: function (t) {\n      M({\n        transform: t,\n        transition: f.transition,\n        isSliding: !1\n      }), setTimeout(function () {\n        return M(s(s({}, T), {\n          transition: 0\n        }));\n      }, 1e3 * f.transition);\n    },\n    widthCallBack: function (t) {\n      C(t), M({\n        transform: f.infinite ? g(t, f.slide, h.Right) : 0,\n        transition: 0,\n        isSliding: !1\n      });\n    }\n  })), S.right && t.createElement(\"div\", {\n    onClick: function () {\n      return Y(h.Right);\n    }\n  }, null !== (a = f.rightArrow) && void 0 !== a ? a : t.createElement(m, {\n    direction: \"right\"\n  })));\n},\n    E = \"styles-module_sliderBase__swkx1\",\n    x = \"styles-module_slider__o0fqa\",\n    C = \"styles-module_sliding__3T6T6\";\n\na(\".styles-module_sliderBase__swkx1 {\\n\\twidth: 100%;\\n\\tposition: relative;\\n}\\n\\n.styles-module_slider__o0fqa {\\n\\tdisplay: flex;\\n\\toverflow-x: auto;\\n\\tscrollbar-width: none; /* Firefox 64 */\\n\\t-ms-overflow-style: none; /* Internet Explorer 11 */\\n}\\n\\n.styles-module_slider__o0fqa::-webkit-scrollbar {\\n\\t/** WebKit */\\n\\tdisplay: none;\\n}\\n\\n.styles-module_slider__o0fqa > * {\\n\\tflex: 0 0 auto;\\n}\\n\\n.styles-module_sliding__3T6T6 > * {\\n\\tpointer-events: none;\\n}\\n\");\n\nvar R = function (n) {\n  var i = n.children,\n      s = n.className,\n      a = n.leftIcon,\n      l = n.rightIcon,\n      c = e(null),\n      u = r(!1),\n      f = u[0],\n      d = u[1],\n      m = r({\n    startX: 0,\n    scrollLeft: 0\n  }),\n      v = m[0],\n      g = m[1],\n      p = function () {\n    var t = c.current;\n    return {\n      left: !!t && t.scrollLeft > 0,\n      right: !!t && t.scrollWidth > t.scrollLeft + t.offsetWidth\n    };\n  },\n      w = r(p()),\n      y = w[0],\n      _ = w[1],\n      L = function (t) {\n    _(p());\n  },\n      k = o(function (t) {\n    null !== t && (Object.defineProperty(c, \"current\", {\n      value: t\n    }), _(p()), t.addEventListener(\"scroll\", L));\n  }, [c, i]),\n      b = function (t) {\n    d(!1), _(p()), c.current.classList.remove(C);\n  },\n      R = function (t) {\n    var e = function (t) {\n      for (var e, n, r = c.current, i = t === h.Left ? r.scrollLeft + r.offsetWidth : r.scrollLeft, o = 0, s = 0, a = Array.from(r.children); s < a.length; s++) {\n        var l = a[s],\n            u = (e = l, n = void 0, n = getComputedStyle(e), e.offsetWidth + (parseInt(n.marginLeft, 10) || 0) + (parseInt(n.marginRight, 10) || 0));\n\n        if ((o += u) >= i) {\n          var f = t === h.Left ? o - i : u;\n          return (r.offsetWidth - f) * t;\n        }\n      }\n\n      return r.offsetWidth;\n    }(t),\n        n = c.current.scrollLeft;\n\n    T(500, e, n);\n  },\n      T = function (t, e, n) {\n    for (var r = 0, i = 0; r <= t; i++) window.setTimeout(M, r, i * e / 100 + n), r += t / 100;\n  },\n      M = function (t) {\n    c.current.scrollLeft = t;\n  },\n      I = function (e, n, r) {\n    return t.createElement(\"div\", {\n      \"data-arrow\": n,\n      onClick: function () {\n        return R(e);\n      }\n    }, null != r ? r : t.createElement(\"button\", null));\n  };\n\n  return t.createElement(\"div\", {\n    className: E + \" \" + s,\n    \"data-testid\": \"carousel\"\n  }, y.left && I(h.Right, \"left\", a), y.right && I(h.Left, \"right\", l), t.createElement(\"div\", {\n    ref: k,\n    onMouseDown: function (t) {\n      d(!0), g({\n        startX: t.pageX - c.current.offsetLeft,\n        scrollLeft: c.current.scrollLeft\n      });\n    },\n    onMouseLeave: b,\n    onMouseUp: b,\n    onMouseMove: function (t) {\n      if (f) {\n        t.preventDefault(), c.current.classList.add(C);\n        var e = t.pageX - c.current.offsetLeft - v.startX;\n        c.current.scrollLeft = v.scrollLeft - e;\n      }\n    },\n    className: x\n  }, i));\n};\n\nexport { b as Carousel, R as ScrollingCarousel };","map":null,"metadata":{},"sourceType":"module"}